<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - Orphanage</title>
  <link rel="stylesheet" href="style.css">
  <!-- Add any additional CSS links here -->
</head>
<body>
  <header class="header">
    <header style="margin-bottom:8px;">
        <a href="index.html" class="btn aa">â—€ Back to Home</a>
        <h1 style="margin:8px 0 4px">School Registration</h1>
        <p style="margin:0;color:#444">Register your school for verification. Provide registration/affiliation details and recognition certificates.</p>
      </header>
        <nav class="nav-list">
          <a href="index.html" class="item">Home</a>
          <a href="ssps.html" class="item">SSPs</a>
          <a href="causes.html" class="item">Causes</a>
          <a href="donation.html" class="item">Donations</a>
          <a href="schemes.html" class="item">Schemes</a>
          <a href="community.html" class="item">Community</a>
          <a href="contact.html" class="item">Contact</a>
        </nav>
      </div>

      <div class="op" style="position: absolute; left: 50%; top: 12px; transform: translateX(-50%); z-index:50;">
        <a href="index.html"><img src="hello.png" alt="Janata Logo" class="header-logo" style="max-height:72px; height:auto;"></a>
      </div>

      <div class="profile-dropdown" id="profile-dropdown">
        <button class="profile-dropdown-btn" id="profile-dropdown-btn" aria-haspopup="true" aria-expanded="false">
          <div class="profile-img"><i class="material-icons-round">person</i></div>
          <span>Guest User</span>
          <i class="material-icons-round toggle-icon">expand_more</i>
        </button>
        <ul class="profile-dropdown-list" id="profile-dropdown-list" aria-label="Profile menu">
          <li class="profile-dropdown-list-item"><a href="profile.html"><i class="material-icons-round">account_circle</i> Profile</a></li>
          <li class="profile-dropdown-list-item"><a href="#"><i class="material-icons-round">edit</i> Edit Profile</a></li>
          <li class="profile-dropdown-list-item"><a href="#"><i class="material-icons-round">settings</i> Settings</a></li>
          <hr>
          <li class="profile-dropdown-list-item"><a href="#"><i class="material-icons-round">logout</i> Log Out</a></li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Registration Form -->
  <section class="registration-form">
    <h1>Orphanage Registration</h1>
    <form action="submit_registration.php" method="POST" id="registerForm">
      <label for="name">Orphanage Name:</label>
      <input type="text" id="name" name="name" required>
      
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      
      <label for="phone">Phone Number:</label>
      <input type="tel" id="phone" name="phone" required>
      
      <label for="address">Address:</label>
      <textarea id="address" name="address" required style="width: 364px; height: 144px;"></textarea>
      <br>
      
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      
      <label for="confirm_password">Confirm Password:</label>
      <input type="password" id="confirm_password" name="confirm_password" required>
      
      <button type="submit" class="btn">Register</button>
    </form>
  </section>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-left">&copy; 2025 Janata</div>
      <div class="footer-right footer-links">
        <a href="About.html">About</a>
        <a href="policy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("registerForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      var password = document.getElementById("password").value;
      var confirmPassword = document.getElementById("confirm_password").value;
      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }
      // Collect form data
      const data = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        address: document.getElementById("address").value,
        password: password
      };
      try {
        const response = await fetch("/orphanage-register", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const result = await response.json();
        if (response.ok) {
          alert("Registration successful!");
          window.location.href = "login.html";
        } else {
          alert(result.error || "Registration failed");
        }
      } catch (err) {
        alert("Error: " + err.message);
      }
    });
  </script>
</body>
</html>
